<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow title="视频专辑快捷窗口"  xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:util="util.cpt.*" creationComplete="initApp()" showCloseButton="true"  close="this.closeThis()" width="700" height="350">
<mx:Script source="as/queryVideoAlbum.as"/>
<mx:RemoteObject id="videoAlbumService" destination="videoAlbumService" showBusyCursor="true">
		<mx:method name="getPageVideoAlbum" result="getPageVideoAlbumHandler(event)"/>
		<mx:method name="getIsExitsVideoAlbumShip" result="getIsExitsVideoAlbumShipHandler(event)"/>
		<mx:method name="addVideoAlbumShip" result="addVideoAlbumShipHandler(event)"/>
</mx:RemoteObject>
<mx:Script>
	<![CDATA[
		import mx.charts.CategoryAxis;
		[Bindable]
		//回调函数
		public var fatherFunction:Function;
	]]>
</mx:Script>
<mx:DateFormatter id="dateFormatter" formatString="YYYY-MM-DD"/>
<mx:DateFormatter id="timeFormatter" formatString="YYYY-MM-DD JJ:NN"/>
	<mx:HDividedBox width="100%" height="100%">
		<mx:VBox width="100%" height="100%">
			<mx:Form width="100%">
				<mx:HBox width="100%">
		            <mx:FormItem label="专辑名称：">
	                	<mx:TextInput id="txtAlbumName" width="100"/>
		            </mx:FormItem>
		            <mx:FormItem>
		                <mx:Button label="查询" click="this.getVideoAlbumByParaments()"/>
		            </mx:FormItem>
		            <mx:Spacer width="100"/>
		            <mx:FormItem>
		                <mx:Button id="cmdAddAlbum" label="确定加入" click="getAddVideoAlbum()" visible="false"/>
		            </mx:FormItem>
				</mx:HBox>
	        </mx:Form>
			<mx:DataGrid id="videoAlbumSelect" dataProvider="{videoAlbums.list}"  itemClick="clickHandler(event)" width="100%" height="100%">
				<mx:columns>
					<mx:DataGridColumn headerText="专辑名称" dataField="albumName"/>
					<mx:DataGridColumn headerText="专辑描述" dataField="descn"/>
					<mx:DataGridColumn headerText="创建时间" dataField="createTime" labelFunction="createTimeFormatDate"/>
				</mx:columns>
			</mx:DataGrid>
			<mx:ControlBar width="100%" >
				<util:Page id="pageManager" finder="{videoAlbums}"/>
			</mx:ControlBar>
		</mx:VBox>
	</mx:HDividedBox>
</mx:TitleWindow>

<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml" title="插播" xmlns:ns2="util.*" xmlns:ns1="com.yahoo.astra.mx.controls.*" width="1000" height="550" xmlns:mc="util.cpt.*" close="PopUpManager.removePopUp(this);" showCloseButton="true" xmlns:video="window.video.*" creationComplete="oncreationComplete();">
<mx:Script source="as/insertPlayVideo.as"/>
<mx:RemoteObject id="playInfoService" destination="playInfoService" showBusyCursor="true">
	<mx:method name="getSelectVideo" result="getVideoInfoHandler(event);"/>
	<mx:method name="getVideoTypes" result="getVideoInfoHandler(event);"/>
	<mx:method name="getPlayVideo" result="getPlayVideoHandler(event);"/>
	<mx:method name="delVideo"/>
	<mx:method name="delTerm"/>
	<mx:method name="insertPlay" result="insertPlayHandler(event);"/>
</mx:RemoteObject>  
<mx:RemoteObject id="videoTypeService" destination="videoTypeService" showBusyCursor="true">
	<mx:method name="getTreeVideoType" result="getTreeVideoTypeHandler(event)"/>
</mx:RemoteObject> 
<mx:DateFormatter id="dateFormatter" formatString="YYYY-MM-DD JJ:NN:SS"/>
<mx:Form width="100%" height="100%">
<mx:HDividedBox height="95%" width="100%">
 	<mx:Form id="viewvideo" width="100%" height="100%">
		<mx:VBox width="100%" height="100%">
			<mx:HDividedBox width="100%" height="100%">
				<mx:VBox width="20%" height="100%">
					<mx:Tree id="type_tree" change="getReadFile(event);" height="100%" width="100%" showRoot="true" labelField="@label" dataProvider="{videoTypeTree}"></mx:Tree>
				</mx:VBox>
				<mx:VBox width="80%" height="100%">
					<mx:HBox width="100%" height="5%">
						<mx:Label width="20%" visible="false"/>
						<mx:FormItem label="影片名:">
							<mx:TextInput id="videoname"/>
						</mx:FormItem>
						<mx:Button label="查询" click="getPaginations(1,14);"/>
						<mx:Label width="40%" visible="false"/>
					</mx:HBox>
					<mx:VDividedBox width="100%" height="95%">					
					<mx:TileList id="videotilelist" dataProvider="{imagelist.list}" verticalAlign="middle" height="55%" width="100%" columnCount="7" rowCount="3" rowHeight="95" columnWidth="98"
					 dragEnabled="true" allowMultipleSelection="true">	
						<mx:itemRenderer>
							<mx:Component>
								<mx:VBox width="100%" height="100%">
									<mx:Image id="picture" width="100%" height="100%" source="./{data.imagePath}"  toolTip="{data.videoName}" horizontalAlign="center"/>
									<mx:Label width="80" text="{data.videoName}"/>
								</mx:VBox>
							</mx:Component>
						</mx:itemRenderer>
					</mx:TileList>
					<mx:ControlBar width="100%" height="5%" horizontalAlign="right">
						<mc:Page  finder="{imagelist}"/>
					</mx:ControlBar>					
					<mx:DataGrid id="horizontallist" dataProvider="{moveimages}" width="100%" height="35%" rowCount="5">
						<mx:columns>
							<mx:DataGridColumn dataField="videoName" headerText="名称"/>
							<mx:DataGridColumn dataField="userName"  labelFunction="getUserName" headerText="上传者"/>
							<mx:DataGridColumn dataField="createTime" headerText="发布时间" labelFunction="getCreageTime"/>
							<mx:DataGridColumn dataField="fileSize" headerText="文件大小"/>
							<mx:DataGridColumn dataField="timeCount" headerText="时长"/>
						</mx:columns>						
					</mx:DataGrid>
					</mx:VDividedBox>
				</mx:VBox>								
			</mx:HDividedBox>	
		</mx:VBox>
	</mx:Form>	
</mx:HDividedBox>
	<mx:HBox width="100%" height="5%">	
		<mx:FormItem width="30%" horizontalAlign="center" height="100%" visible="false">
			<mx:ButtonBar itemClick="removeHandler(event)" id="videoRemove">
				<mx:Array>
					<mx:String>上移</mx:String>
					<mx:String>下移</mx:String>
				</mx:Array>
			</mx:ButtonBar>
		</mx:FormItem>	
		<mx:FormItem horizontalAlign="right" width="100%" height="100%">
		<mx:ButtonBar itemClick="videoHandler(event)" id="videobar">
			<mx:Array>
				<mx:String>删除</mx:String>
				<mx:String>取消</mx:String>
				<!--<mx:String>上一步</mx:String>
				<mx:String>下一步</mx:String>-->
				<mx:String>确定</mx:String>				
			</mx:Array>
		</mx:ButtonBar>
	</mx:FormItem>
	</mx:HBox>
</mx:Form>
</mx:TitleWindow>